spring:
  application:
    name: ecommerce-app
  mail:
    # Gmail SMTP Configuration (switch to implicit SSL on 465 due to 587 connect timeouts)
    host: smtp.gmail.com
    port: 465
    username: propertyplugsolutions@gmail.com
    password: qzzs nima bhqu iwtw
    default-encoding: UTF-8
    test-connection: false
    properties:
      mail:
        transport:
          protocol: smtp
        smtp:
          auth: true
          # Use SSL/TLS from the start for port 465; disable STARTTLS
          ssl:
            enable: true
          starttls:
            enable: false
          # Timeouts retained for reliability (15s)
          connectiontimeout: 15000
          timeout: 15000
          writetimeout: 15000
  datasource:
    url: jdbc:postgresql://localhost:5432/ecommerce
    driver-class-name: org.postgresql.Driver
    username: appuser
    password: newpassword
  jpa:
    hibernate:
      ddl-auto: update
    properties:
      hibernate:
        dialect: org.hibernate.dialect.PostgreSQLDialect
        format_sql: true
    show-sql: true
    open-in-view: false
  kafka:
    bootstrap-servers: localhost:9092
  # Multipart configuration for file uploads
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 50MB
      file-size-threshold: 2KB

jwt:
  issuer: sky-ecommerce
  # Inlined from .env
  secret: c3e2f8a6b8d0e48dfaa0df5e21e1c10ab0deac59f723f81bd9a3b8b7e9bc1f36f50977fd181cc9a4dcd4ae1d39b61f02b42945f4ce3584f9678777a46a05a598
  access-token:
    ttl: 15m
  refresh-token:
    ttl: 7d

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,prometheus

topics:
  order-events: order.events
  payment-events: payment.events
  inventory-events: inventory.events
  notification-events: notification.events

outbox:
  relay:
    interval-ms: 1000

# Frontend base URL for password reset link (from .env)
app:
  frontend:
    resetBaseUrl: http://localhost:3000/reset?token=

logging:
  level:
    org.apache.kafka: INFO
    org.springframework.kafka: INFO
    com.sky_ecommerce: DEBUG
    org.springframework.mail: DEBUG
    com.sun.mail: DEBUG
    jakarta.mail: DEBUG

cloudinary:
  cloud-name: dw2tizec5
  api-key: 452457823177195
  api-secret: aXwURIPipg2iekjFjk1vigejKZc

# Paystack configuration (TEST) - values inlined per request
paystack:
  base-url: https://api.paystack.co
  public-key: pk_test_ba54b0b41a6925ae537b647455053dbbe6944360
  secret-key: sk_test_5a1af0ebe3e6991b79ed180a8c4cb4e662848482
  callback-url: https://example.com
# Removed duplicate spring/jwt/management/topics/outbox/app/logging/cloudinary/paystack blocks below
